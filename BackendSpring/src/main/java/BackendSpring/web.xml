<?xml version="1.0" encoding="UTF-8"?>
<filter>
	<filter-name>springSecurityFilterChain</filter-name>
	<filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
</filter>
<filter-mapping>
	<filter-name>springSecurityFilterChain</filter-name>
	<url-pattern>/*</url-pattern>
</filter-mapping>
<global-method-security pre-post-annotations="enabled" />  

<!-- API Security -->  
<http pattern="/api/login" security="none"/>
<http pattern="/api/signup" security="none"/>

<http pattern="/api/secure/**" entry-point-ref="jwtAuthenticationEntryPoint" create-session="stateless">  
    <csrf disabled="true"/>
    <custom-filter before="FORM_LOGIN_FILTER" ref="jwtAuthenticationTokenFilter"/>
</http>

<beans:bean id="jwtAuthenticationSuccessHandler" class="BackendSpring.security.jwt.JwtAuthenticationSuccessHandler" />

<beans:bean id="jwtAuthenticationFilter" class="BackendSpring.security.jwt.security.JwtAuthenticationFilter">  
    <beans:property name="authenticationManager" ref="jwtAuthMgr" />
    <beans:property name="authenticationSuccessHandler" ref="jwtAuthenticationSuccessHandler" />
</beans:bean>

<authentication-manager id="jwtAuthMgr">  
    <authentication-provider ref="jwtAuthenticationProvider" />
</authentication-manager>  